# 计算机网络常见知识点和面试题总结（上）
## 介绍一下计算机网络分层体系结构
1. **OSI 参考模型**
OSI（Open Systems Interconnection）参考模型是一种由国际标准化组织（ISO）提出的计算机网络分层体系结构，共分为七层。每一层都有自己的特定功能和服务，如下所示：

- 物理层（Physical Layer）：负责将数字信号转换为物理信号，并将物理信号传输到下一层。
- 数据链路层（Data Link Layer）：负责对物理信号进行分组和封装，检查和纠正传输中的错误。
- 网络层（Network Layer）：负责选择和控制网络中的路径，实现数据的分组、传输和路由。
- 传输层（Transport Layer）：负责提供端到端的可靠传输和流量控制，并且可以保证数据的顺序和完整性。
- 会话层（Session Layer）：负责建立、管理和终止应用程序之间的会话。
- 表示层（Presentation Layer）：负责数据的格式转换、加密和解密等，使得不同类型的计算机可以相互通信。
- 应用层（Application Layer）：提供各种网络应用程序和服务，如电子邮件、文件传输、网页浏览等。
2. **TCP/IP 参考模型**
TCP/IP（Transmission Control Protocol/Internet Protocol）参考模型是一种由美国国防部高级研究计划局（ARPA）提出的计算机网络分层体系结构，共分为四层。每一层都有自己的特定功能和服务，如下所示：

- 网络接口层（Network Interface Layer）：负责将数据转换为物理信号并进行传输，实现了数据链路层和物理层的功能。
- 网络层（Internet Layer）：负责实现数据的传输和路由，包括 IP 协议、ICMP 协议等。
- 传输层（Transport Layer）：负责提供端到端的可靠传输和流量控制，包括 TCP 协议和 UDP 协议。
- 应用层（Application Layer）：提供各种网络应用程序和服务，如电子邮件、文件传输、网页浏览等，包括 HTTP 协议、FTP 协议、SMTP 协议等。
## 请详细介绍一下三次握手
三次握手（Three-Way Handshake）是 TCP 协议中建立连接的过程，它由客户端和服务器之间互相发送和确认三个数据包来完成。三次握手的过程如下：

1. **第一次握手（SYN）**：
客户端发送一个 SYN 数据包（SYN=1，ACK=0）给服务器，表示客户端请求建立连接，并且客户端可以接收数据。此时，客户端进入 SYN_SENT 状态。

2. **第二次握手（SYN+ACK）**：
服务器收到客户端的 SYN 数据包后，发送一个 SYN/ACK 数据包（SYN=1，ACK=1）给客户端，表示服务器已经收到了客户端的请求，并且可以发送数据。同时，服务器也向客户端发送一个确认数据包（ACK=1），表示服务器也可以接收数据。此时，服务器进入 SYN_RCVD 状态。

3. **第三次握手（ACK）**：
客户端收到服务器的 SYN/ACK 数据包后，向服务器发送一个确认数据包（ACK=1），表示客户端已经收到了服务器的确认，并且可以发送数据。此时，客户端和服务器都进入 ESTABLISHED 状态，连接建立成功。

三次握手的目的是确保客户端和服务器之间可以互相发送和接收数据，并且保证数据的可靠性和完整性。在三次握手的过程中，客户端和服务器都需要发送和接收数据包，从而建立了可靠的双向通信。

## 请详细介绍一下四次挥手
**四次挥手**（Four-Way Handshake）是 TCP 协议中关闭连接的过程，它由客户端和服务器之间互相发送和确认四个数据包来完成。四次挥手的过程如下：

1. **第一次挥手（FIN）**：
客户端向服务器发送一个 FIN 数据包（FIN=1，ACK=0），表示客户端不会再向服务器发送数据。此时，客户端进入 FIN_WAIT_1 状态。

2. **第二次挥手（ACK）**：
服务器收到客户端的 FIN 数据包后，向客户端发送一个确认数据包（ACK=1），表示服务器已经收到了客户端的关闭请求。此时，服务器进入 CLOSE_WAIT 状态，等待关闭连接。

3. **第三次挥手（FIN）**：
服务器向客户端发送一个 FIN 数据包（FIN=1，ACK=0），表示服务器已经完成了所有数据的发送，并且也不会再接收客户端的数据。此时，服务器进入 LAST_ACK 状态。

4. **第四次挥手（ACK）**：
客户端收到服务器的 FIN 数据包后，向服务器发送一个确认数据包（ACK=1），表示客户端已经收到了服务器的关闭请求。此时，客户端进入 TIME_WAIT 状态，并且等待一段时间后关闭连接。

四次挥手的目的是确保客户端和服务器都可以安全地关闭连接，并且保证数据的可靠性和完整性。在四次挥手的过程中，客户端和服务器都需要发送和接收数据包，从而保证了连接的可靠性和安全性。

需要注意的是，在四次挥手的过程中，客户端和服务器都需要等待一段时间，以确保对方已经收到了数据包并完成了关闭操作。这个等待时间通常称为 TIME_WAIT 状态，可以避免数据包的丢失和网络延迟等问题。

## 为什么不是两次握手
在 TCP 协议中，为了确保客户端和服务器之间可以可靠地建立连接，需要进行三次握手。

如果只进行两次握手，可能会出现以下情况：

1. 客户端发送了一个连接请求，但是由于网络延迟等原因，这个请求并没有到达服务器，而客户端认为连接已经建立成功了。
2. 服务器收到了客户端的连接请求，并且向客户端发送了一个确认数据包，但是这个确认数据包没有到达客户端，而服务器认为连接已经建立成功了。
3. 客户端和服务器之间的连接已经建立成功了，但是客户端发送的确认数据包丢失了，导致服务器一直处于等待状态，无法进行数据传输。
这些问题都可能导致客户端和服务器之间无法建立可靠的连接，从而影响数据的传输和可靠性。

因此，为了确保客户端和服务器之间建立可靠的连接，需要进行三次握手。在三次握手的过程中，客户端和服务器都需要发送和接收数据包，从而建立了可靠的双向通信，保证了数据的可靠性和完整性。

## 四次挥手中为什么等待2MSL
在四次挥手过程中，当客户端和服务器都完成了数据传输并准备关闭连接时，它们都会进入 TIME_WAIT 状态，并且等待一段时间，这个时间通常称为 2MSL。

2MSL 是指两倍的最长报文段寿命（Maximum Segment Lifetime），也就是数据报在网络中的最长存活时间。在这个时间内，客户端和服务器都会等待一段时间，以确保对方已经收到了数据包并完成了关闭操作。

等待 2MSL 的目的主要有以下几点：

1. 确保客户端和服务器都已经收到了对方发送的确认数据包，从而避免因为网络延迟等原因导致的数据包重传和连接不稳定问题。
2. 确保客户端和服务器都已经完成了数据传输和关闭操作，避免数据包丢失和未处理的问题。
3. 避免客户端和服务器之间的连接被重建，因为可能还有一些延迟的数据包在网络中传输，如果立即关闭连接，这些数据包可能会被丢失，导致后续的连接建立失败。
在等待 2MSL 的过程中，客户端和服务器都不会发送任何数据包，但是它们仍然会接收数据包。如果在这段时间内收到了对方发送的数据包，客户端和服务器都会发送一个重置数据包（RST），以表示连接已经被重置。

因此，等待 2MSL 可以确保对方已经收到了数据包并完成了关闭操作，保证了连接的可靠性和安全性。
## HTTP和HTTPS区别
HTTP（超文本传输协议）是一种用于在 Web 浏览器和 Web 服务器之间传输数据的协议，它是基于 TCP 协议实现的。而 HTTPS（安全超文本传输协议）则是在 HTTP 的基础上添加了 SSL/TLS 协议进行加密和认证，可以更加安全地传输数据。

以下是 HTTP 和 HTTPS 的主要区别：

1. 安全性：HTTP 协议传输的数据是明文的，容易被第三方窃取和篡改，而 HTTPS 协议使用 SSL/TLS 协议对数据进行加密和认证，可以保证数据的安全性。

2. 加密方式：HTTP 协议不使用加密算法对数据进行加密，而 HTTPS 协议使用 SSL/TLS 协议进行加密，可以保护数据的机密性和完整性。

3. 端口号：HTTP 协议默认使用 80 端口进行通信，而 HTTPS 协议默认使用 443 端口进行通信。

4. 证书认证：HTTPS 协议需要使用数字证书对服务器进行身份认证，确保客户端和服务器之间的通信是安全的。

5. 性能：由于 HTTPS 协议需要进行加密和认证，因此比 HTTP 协议的性能要差一些，但是随着计算机硬件和网络技术的不断发展，HTTPS 协议的性能已经得到了很大的提升。

## 对称加密与非对称加密
对称加密和非对称加密是两种常用的加密算法。

1. 对称加密
对称加密是指用同一个密钥（即对称密钥）进行加密和解密的过程。在对称加密中，发送方使用密钥对明文进行加密，得到密文，接收方使用同一个密钥对密文进行解密，得到明文。对称加密的优点是加密速度快，适用于大量数据的加密和解密。常见的对称加密算法包括 DES、3DES、AES 等。

对称加密的缺点是密钥的安全性较低，如果密钥被泄露，那么加密的数据也就不再安全。因此，在使用对称加密算法时，需要采取一些额外的措施来确保密钥的安全性，如密钥交换协议、密钥管理等。

2. 非对称加密
非对称加密是指使用不同的密钥（即公钥和私钥）进行加密和解密的过程。在非对称加密中，发送方使用接收方的公钥对明文进行加密，得到密文，接收方使用自己的私钥对密文进行解密，得到明文。非对称加密的优点是密钥的安全性较高，不需要像对称加密那样担心密钥被泄露。常见的非对称加密算法包括 RSA、DSA 等。

非对称加密的缺点是加密速度较慢，适用于小量数据的加密和解密。另外，由于非对称加密算法需要使用公钥和私钥，因此需要对密钥进行管理和存储，确保密钥的安全性。

在实际应用中，对称加密和非对称加密通常会结合使用，以充分发挥它们各自的优点。例如，在 HTTPS 协议中，服务器使用非对称加密算法对客户端发送的密钥进行加密，然后使用对称加密算法对数据进行加密，从而保证数据的安全性和可靠性。
## 什么是数字证书
数字证书（Digital Certificate）是一种用于验证公钥拥有者身份的电子文档，它是由数字证书认证机构（CA，Certificate Authority）颁发的，包含了公钥拥有者的一些关键信息，如姓名、邮箱、组织机构等。

数字证书的主要作用是用于验证公钥拥有者的身份和确保公钥的安全性。在使用数字证书的过程中，首先需要使用私钥对数据进行加密，然后使用公钥进行解密。由于公钥是由数字证书认证机构颁发的，因此可以保证公钥的安全性和可靠性，从而确保数据的机密性和完整性。

数字证书通常由数字证书认证机构颁发，数字证书认证机构是一种可信的第三方机构，它会对公钥拥有者的身份进行验证，然后颁发数字证书。数字证书认证机构的信用和可靠性对于数字证书的安全性和可靠性非常重要。

数字证书常用于 HTTPS 协议中，当客户端与服务器建立连接时，服务器会向客户端发送数字证书，客户端通过验证数字证书的合法性和可靠性，从而确保与服务器之间的通信是安全的。数字证书也常用于数字签名、电子邮件、电子票据等领域。
## HTTPS工作流程
HTTPS（安全超文本传输协议）是在 HTTP 协议的基础上添加了 SSL/TLS 加密协议进行加密和认证，可以更加安全地传输数据。HTTPS 的工作流程如下：

1. 客户端向服务器发送 HTTPS 请求。

2. 服务器向客户端发送数字证书，客户端使用数字证书认证机构的公钥对数字证书进行验证，以确保服务器的身份和数字证书的合法性。

3. 客户端生成一个随机的对称密钥，并使用服务器的公钥对对称密钥进行加密，然后将加密后的对称密钥发送给服务器。

4. 服务器使用自己的私钥对接收到的加密数据进行解密，得到对称密钥。

5. 服务器使用对称密钥对数据进行加密和解密，并将加密后的数据发送给客户端。

在 HTTPS 的工作流程中，数字证书认证机构（CA）是一个非常重要的角色，它用于验证数字证书的合法性和可信度，确保客户端和服务器之间的通信是安全和可靠的。

HTTPS 的主要作用是确保数据在传输过程中的安全性和完整性，防止数据被窃取和篡改。HTTPS 的加密和认证过程可以保护客户端和服务器之间的通信安全，确保数据的机密性和完整性。
## HTTP常见状态码
以下是常见的 HTTP 状态码的总结表格：

| 状态码 | 类别 | 描述 |
| --- | --- | --- |
| 1xx | 信息性状态码 | 表示服务器已经接收到了客户端的请求，但是还需要进一步的处理。 |
| 2xx | 成功状态码 | 表示服务器已经成功地接收到了客户端的请求，并且已经处理完成。 |
| 200 | 成功 | 表示服务器已经成功地处理了客户端的请求，返回了请求的资源。 |
| 201 | 已创建 | 表示服务器已经成功地创建了新的资源。 |
| 204 | 无内容 | 表示服务器已经成功地处理了客户端的请求，但是没有返回任何内容。 |
| 3xx | 重定向状态码 | 表示客户端需要采取进一步的操作才能完成请求。 |
| 301 | 永久移动 | 表示所请求的资源已经被永久移动到了新的 URL。 |
| 302 | 临时移动 | 表示所请求的资源已经被临时移动到了新的 URL。 |
| 304 | 未修改 | 表示客户端的缓存资源是最新的，不需要从服务器重新获取。 |
| 4xx | 客户端错误状态码 | 表示客户端发送的请求有误或者服务器无法处理客户端的请求。 |
| 400 | 请求错误 | 表示客户端发送的请求有误，服务器无法处理。 |
| 401 | 未授权 | 表示客户端需要进行身份验证才能访问所请求的资源。 |
| 403 | 禁止访问 | 表示客户端没有权限访问所请求的资源。 |
| 404 | 未找到 | 表示所请求的资源不存在。 |
| 5xx | 服务器错误状态码 | 表示服务器在处理请求时遇到了错误。 |
| 500 | 内部服务器错误 | 表示服务器在处理请求时发生了内部错误。 |
| 502 | 错误的网关 | 表示服务器作为网关或代理服务器时，从上游服务器接收到了无效的响应。 |
| 503 | 服务不可用 | 表示服务器暂时无法处理请求，通常是因为服务器过载或正在维护。 |

## HTTP长连接和短连接，流水线是什么
### HTTP 长连接和短连接
HTTP 长连接和短连接是指客户端和服务器之间的连接是否保持长时间打开。具体来说：

- 短连接：客户端和服务器在完成一次请求和响应后，会立即关闭连接。
- 长连接：客户端和服务器在完成一次请求和响应后，会保持连接打开，以便进行后续的请求和响应。
HTTP 的短连接模式是 HTTP/1.0 的默认模式，而长连接模式是 HTTP/1.1 的默认模式。

使用长连接可以减少建立连接和关闭连接的开销，提高网络传输的效率。但是需要注意的是，如果长时间保持连接，会占用服务器的资源，并且可能会导致网络拥塞和延迟增加。

### HTTP 流水线
HTTP 流水线是指客户端在发送请求之前，不需要等待服务器的响应，而是可以连续发送多个请求。在服务器收到这些请求之后，会按照顺序依次处理，并返回相应的响应。

使用 HTTP 流水线可以减少网络传输的延迟，提高网络传输的效率。但需要注意的是，HTTP 流水线只适用于无状态的请求，即每个请求都不依赖于前面的请求。如果某个请求依赖于前面的请求，那么就需要等待前面请求的响应，这样就无法使用 HTTP 流水线。

在实际应用中，由于 HTTP 流水线存在一些安全和可靠性方面的问题，因此并不是很常见。在 HTTP/1.1 中，流水线已经被废弃，取而代之的是更加高效和可靠的 HTTP 传输编码技术，如分块传输编码（chunked transfer encoding）和压缩传输编码（gzip compression）。
## GET和POST区别和应用
GET 和 POST 是 HTTP 协议中最常用的两种方法，它们在请求的方式、传输数据的方式、安全性等方面有所不同。

### GET 方法
GET 方法是一种用于从服务器获取资源的请求方法。通常用于从服务器获取数据，如搜索结果、文章内容等。在 GET 请求中，数据会附加在 URL 后面，在请求头中使用 "GET" 方法指定。

GET 请求的特点是：

- 请求方式：获取资源。
- 数据传输：在 URL 中传输数据。
- 请求长度：URL 长度有限制，一般不超过 2048 个字符。
- 安全性：不太安全，因为请求参数暴露在 URL 中。
### POST 方法
POST 方法是一种用于向服务器提交数据的请求方法。通常用于向服务器提交表单数据、上传文件等。在 POST 请求中，数据会通过请求体传输，在请求头中使用 "POST" 方法指定。

POST 请求的特点是：

- 请求方式：提交数据。
- 数据传输：通过请求体传输数据。
- 请求长度：没有长度限制，可以传输大量数据。
- 安全性：比 GET 方法更安全，因为请求参数不会暴露在 URL 中。
应用
GET 和 POST 方法在应用中的使用场景有一些不同：

GET 方法：适用于获取资源、搜索结果等操作。在浏览器中，GET 方法常用于浏览网页、跳转链接等操作。
POST 方法：适用于提交数据、上传文件等操作。在浏览器中，POST 方法常用于提交表单、进行登录等操作。
需要注意的是，虽然 GET 方法的安全性相对较低，但是在一些场景下也可以使用加密和认证等方式来保障数据的安全。另外，在实际应用中，GET 和 POST 方法的使用也需要根据具体的业务场景和安全需求来进行选择。
## filter、map、reduce 的作用
filter、map 和 reduce 是 Python 中的三个常用高阶函数。filter 用于筛选序列中符合条件的元素；map 用于对序列中的每个元素执行函数操作；reduce 用于对序列中的元素进行累积计算。这三个函数的返回值均为迭代器。
## re 的 match 和 search 区别
re 模块中的 match 函数用于在字符串开头匹配正则表达式，而 search 函数则用于在字符串中查找匹配正则表达式的子串。如果需要匹配整个字符串，可以使用 match 函数；如果需要在字符串中查找匹配的子串，可以使用 search 函数。

https://blog.csdn.net/qq_26109591/article/details/124196907